<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src='vue2.6.12_dev.js'></script>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css">
    <title>Hello Vue.js</title>
</head>
<body>
    <div id="app">
       <h2>{{title}}</h2>
       <ul>
           <user-list v-bind:data="users"></user-list>
       </ul>
    </div>
    <script>

        Vue.component('user-list', {
            template: '<div>\
               <ul><li v-for="user in data">{{user.name}}</li></ul>\
               </div>',
               props: ['data']
        })

        var vm = new Vue({
            el: "#app",
            data: {
                title: 'Utilisateurs',
                usersURL: 'https://jsonplaceholder.typicode.com/users',
                users: []
            },
            beforeCreate: function() {
                console.log('beforeCreate') 
            },
            created: function() {
                fetch(this.usersURL)
                    .then(response => response.json())
                    .then(json => vm.users = json)
            }
        })
    </script>
</body>
</html>